(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24223cb5"],{3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},5935:function(t,e,n){"use strict";function a(t,e){return r(t)||i(t,e)||s()}function r(t){if(Array.isArray(t))return t}function i(t,e){var n=[],a=!0,r=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(a=(s=o.next()).done);a=!0)if(n.push(s.value),e&&n.length===e)break}catch(c){r=!0,i=c}finally{try{a||null==o["return"]||o["return"]()}finally{if(r)throw i}}return n}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.reduce(function(t,e){var n=e.split(".").slice(-1)[0];if(t[n])throw new Error("The key `".concat(n,"` is already in use."));return t[n]=e,t},{})}function c(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i="string"===typeof n[0]?[].concat(n):[""].concat(n),s=a(i,4),o=s[0],c=s[1],u=s[2],l=s[3];return o.length&&"/"!==o.charAt(o.length-1)&&(o+="/"),u="".concat(o).concat(u||"getField"),l="".concat(o).concat(l||"updateField"),t(o,c,u,l)}}function u(t){return function(e){return e.split(/[.[\]]+/).reduce(function(t,e){return t[e]},t)}}function l(t,e){var n=e.path,a=e.value;n.split(/[.[\]]+/).reduce(function(t,e,n,r){return r.length===n+1&&(t[e]=a),t[e]},t)}n.d(e,"a",function(){return u}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return l});var f=c(function(t,e,n,a){var r=Array.isArray(e)?o(e):e;return Object.keys(r).reduce(function(t,e){var i=r[e],s={get:function(){return this.$store.getters[n](i)},set:function(t){this.$store.commit(a,{path:i,value:t})}};return t[e]=s,t},{})}),d=c(function(t,e,n,a){var r=Array.isArray(e)?o(e):e;return Object.keys(r).reduce(function(t,e){var i=r[e];return t[e]={get:function(){var t=this.$store,e=t.getters[n](i);return e.map(function(e,r){return Object.keys(e).reduce(function(e,s){var o="".concat(i,"[").concat(r,"].").concat(s);return Object.defineProperty(e,s,{get:function(){return t.getters[n](o)},set:function(e){t.commit(a,{path:o,value:e})}})},{})})}},t},{})})},"6b54":function(t,e,n){"use strict";n("3846");var a=n("cb7c"),r=n("0bfb"),i=n("9e1e"),s="toString",o=/./[s],c=function(t){n("2aba")(RegExp.prototype,s,t,!0)};n("79e5")(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?c(function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?r.call(t):void 0)}):o.name!=s&&c(function(){return o.call(this)})},e8bc:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fullscreen",{ref:"fullscreen",staticStyle:{"background-color":"#ffffff"},on:{change:t.fullscreenChange}},[n("div",{attrs:{id:"page-wrapper"}},[n("div",{staticClass:"row border-bottom white-bg"},[n("nav",{staticClass:"navbar navbar-static-top",attrs:{role:"navigation"}},[n("div",{staticClass:"navbar-header"},[n("button",{staticClass:"navbar-toggle collapsed",attrs:{"aria-controls":"navbar","aria-expanded":"false","data-target":"#navbar","data-toggle":"collapse",type:"button"}},[n("i",{staticClass:"fa fa-bars"})]),n("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("FOCUS")])],1),n("div",{staticClass:"navbar-collapse collapse",attrs:{id:"navbar"}},[n("ul",{staticClass:"nav navbar-nav"},[n("li",{staticClass:"active"},[n("a",{attrs:{"aria-expanded":"false",role:"button",href:"https://digital4africa.com"}},[t._v(" Go to website")])])]),n("ul",{staticClass:"nav navbar-top-links navbar-right"},[n("li",[n("a",{on:{click:t.toggle}},[n("i",{staticClass:"fa fa-expand-arrows-alt"}),t._v(" Fullscreen\n                        ")])]),n("li",[n("a",{on:{click:t.signOut}},[n("i",{staticClass:"fa fa-sign-out"}),t._v(" Sign out\n                        ")])])])])])]),n("div",{staticClass:"wrapper wrapper-content",staticStyle:{"padding-top":"0"}},[n("div",{staticClass:"container-fluid"},[n("router-view")],1)]),n("div",{staticClass:"footer"},[n("div",{staticClass:"pull-right"},[t._v("\n            10GB of "),n("strong",[t._v("250GB")]),t._v(" Free.\n        ")]),n("div",[n("strong",[t._v("Copyright")]),t._v(" Example Company Â© 2014-2017\n        ")])])])])},r=[],i=n("fd92"),s=(n("6b54"),{products:"products/get/all",insert:"products/new",categories:"categories/get/all",generateReceipt:"categories/get/all"}),o=s,c=n("5935"),u=void 0,l={namespaced:!0,state:{items:[],payment:{tendered:0,due:"",change:0,method:"Cash",customer:{}},receipt:{header:{},lines:[]},invoice:{header:{},lines:[]},quote:{header:{},lines:[]},message:"",status:"",loading:!1},mutations:{updateField:c["d"],REFRESH_STORE:function(){},SET_ITEMS:function(t,e){t.items.push(e)},UNSET_ITEMS:function(t,e){t.items.splice(e,1)},SET_RECEIPT:function(t,e){t.receipt.header=e.header,t.receipt.lines=e.lines},SET_INVOICE:function(t,e){t.invoice.header=e.header,t.invoice.lines=e.lines},SET_QUOTE:function(t,e){t.quote.header=e.header,t.quote.lines=e.lines},SET_LOADING:function(t,e){t.loading=e},UPDATE_SALE:function(t,e){t.items[e.index]=e.item}},getters:{getField:c["a"],totalSales:function(t){return t.items.reduce(function(t,e){return parseInt(t)+parseInt(e.salePrice)},0)},getItem:function(t){return function(e){return t.items[e]}}},actions:{newProduct:function(t,e){var n=t.context,a=t.dispatch;window.api.call("post",o.insert,e).then(function(){a("getProducts")}).catch(function(t){n.commit("SET_MESSAGE",{message:t.response.data.message,status:"alert-warning"})})},generateReceipt:function(t,e){t.commit("SET_LOADING",!0),window.api.call("post",o.generateReceipt,e).then(function(e){t.commit("SET_RECEIPT",e.data.data),u.$router.push("/pos/receipt"),t.commit("SET_LOADING",!1)}).catch(function(e){t.commit("SET_MESSAGE",{message:e.response.data.message,status:"alert-warning"}),t.commit("SET_LOADING",!1)})},performOperation:function(t,e){var n=t.state,a=n.items[e.operand];switch(e.operation){case"QTY":a.qty=parseInt(a.qty+""+e.input);break;case"UNIT":break;case"PRICE":break}},backSpace:function(t,e){var n=t.context,a=t.state,r=a.items[e.operand];switch(e.operation){case"QTY":return 1===r.qty.toString().length?(alert("islessthan1"),void n.commit("UNSET_ITEMS",e.operand)):(alert(r.qty.toString().length),void(r.qty=parseInt(r.qty.toString().slice(0,-1))));case"UNIT":return;case"PRICE":return}}}},f={name:"Pos",data:function(){return{fullscreen:!1}},methods:{toggle:function(){this.$refs["fullscreen"].toggle()},fullscreenChange:function(t){this.fullscreen=t},signOut:function(){window.auth.logout()}},beforeCreate:function(){document.body.className="top-navigation white-bg"},created:function(){this.$store&&this.$store.state&&this.$store.state["inventory"]||this.$store.registerModule("inventory",i["a"]),this.$store&&this.$store.state&&this.$store.state["pos"]||this.$store.registerModule("pos",l)}},d=f,g=n("2877"),m=Object(g["a"])(d,a,r,!1,null,"096a4f10",null);e["default"]=m.exports},fd92:function(t,e,n){"use strict";var a={products:"products/get/all",insert:"products/new",categories:"products/categories",newCategory:"products/createCategory",measurementUnits:"products/measurementUnits"},r=a;e["a"]={namespaced:!0,state:{products:[],categories:{},measurementUnit:{},message:"",status:"",loading:!0,view:"list"},mutations:{REFRESH_STORE:function(){},SET_PRODUCTS:function(t,e){t.products=e},SET_MEASUREMENT_UNIT:function(t,e){t.measurementUnit=e},SET_MESSAGE:function(t,e){t.message=e.message||"Something went wrong",t.status=e.status||"alert-warning"},SET_LOADING:function(t,e){t.loading=e},SET_VIEW:function(t,e){t.view=e},SET_CAREGORIES:function(t,e){t.categories=e}},getters:{getMeasurementUnit:function(t){return function(e){return t.measurementUnit.filter(function(t){return t.id===e})}}},actions:{getProducts:function(t){t.commit("SET_LOADING",!0),window.api.call("get",r.products).then(function(e){t.commit("SET_PRODUCTS",e.data.data),t.commit("SET_LOADING",!1)}).catch(function(e){t.commit("SET_MESSAGE",{message:e.response.data.message,status:"alert-warning"}),t.commit("SET_LOADING",!1)})},getCategories:function(t){t.commit("SET_LOADING",!0),window.api.call("get",r.categories).then(function(e){t.commit("SET_CAREGORIES",e.data.data),t.commit("SET_LOADING",!1)}).catch(function(e){t.commit("SET_MESSAGE",{message:e.response.data.message,status:"alert-warning"}),t.commit("SET_LOADING",!1)})},getMeasurementUnits:function(t){t.commit("SET_LOADING",!0),window.api.call("get",r.measurementUnits).then(function(e){t.commit("SET_MEASUREMENT_UNIT",e.data.data),t.commit("SET_LOADING",!1)}).catch(function(e){t.commit("SET_MESSAGE",{message:e.response.data.message,status:"alert-warning"}),t.commit("SET_LOADING",!1)})},newProduct:function(t,e){window.api.call("post",r.insert,e).then(function(){t("SET_LOADING",!1)}).catch(function(e){t("SET_LOADING",!1)})},newCategory:function(t,e){var n=t.context,a=t.dispatch;window.api.call("post",r.newCategory,e).then(function(){a("getCategories",{root:!0})}).catch(function(t){n.commit("SET_MESSAGE",{message:t.response.data.message,status:"alert-warning"})})}}}}}]);
//# sourceMappingURL=chunk-24223cb5.c8dd48c6.js.map