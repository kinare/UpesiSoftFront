(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-287b9916"],{1193:function(t,e,s){},2375:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sk-spinner sk-spinner-double-bounce"},[s("div",{staticClass:"sk-double-bounce1"}),s("div",{staticClass:"sk-double-bounce2"})])}],i={name:"Spinner"},r=i,c=s("2877"),o=Object(c["a"])(r,n,a,!1,null,"5cbedca4",null);e["a"]=o.exports},5935:function(t,e,s){"use strict";function n(t,e){return a(t)||i(t,e)||r()}function a(t){if(Array.isArray(t))return t}function i(t,e){var s=[],n=!0,a=!1,i=void 0;try{for(var r,c=t[Symbol.iterator]();!(n=(r=c.next()).done);n=!0)if(s.push(r.value),e&&s.length===e)break}catch(o){a=!0,i=o}finally{try{n||null==c["return"]||c["return"]()}finally{if(a)throw i}}return s}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.reduce(function(t,e){var s=e.split(".").slice(-1)[0];if(t[s])throw new Error("The key `".concat(s,"` is already in use."));return t[s]=e,t},{})}function o(t){return function(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];var i="string"===typeof s[0]?[].concat(s):[""].concat(s),r=n(i,4),c=r[0],o=r[1],l=r[2],u=r[3];return c.length&&"/"!==c.charAt(c.length-1)&&(c+="/"),l="".concat(c).concat(l||"getField"),u="".concat(c).concat(u||"updateField"),t(c,o,l,u)}}function l(t){return function(e){return e.split(/[.[\]]+/).reduce(function(t,e){return t[e]},t)}}function u(t,e){var s=e.path,n=e.value;s.split(/[.[\]]+/).reduce(function(t,e,s,a){return a.length===s+1&&(t[e]=n),t[e]},t)}s.d(e,"a",function(){return l}),s.d(e,"b",function(){return b}),s.d(e,"c",function(){return d}),s.d(e,"d",function(){return u});var b=o(function(t,e,s,n){var a=Array.isArray(e)?c(e):e;return Object.keys(a).reduce(function(t,e){var i=a[e],r={get:function(){return this.$store.getters[s](i)},set:function(t){this.$store.commit(n,{path:i,value:t})}};return t[e]=r,t},{})}),d=o(function(t,e,s,n){var a=Array.isArray(e)?c(e):e;return Object.keys(a).reduce(function(t,e){var i=a[e];return t[e]={get:function(){var t=this.$store,e=t.getters[s](i);return e.map(function(e,a){return Object.keys(e).reduce(function(e,r){var c="".concat(i,"[").concat(a,"].").concat(r);return Object.defineProperty(e,r,{get:function(){return t.getters[s](c)},set:function(e){t.commit(n,{path:c,value:e})}})},{})})}},t},{})})},"77c0":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid p-sm"},[s("div",{staticClass:"row"},[s("div",{staticClass:"tabs-container"},[t._m(0),s("div",{staticClass:"tab-content"},[s("div",{staticClass:"tab-pane active",attrs:{id:"tab-1"}},[s("div",{staticClass:"panel-body"},[s("div",{staticClass:"col-sm-5 border-right"},[s("div",{staticClass:"row"},[s("div",{staticClass:"ibox",staticStyle:{"margin-bottom":"0"}},[s("div",{staticClass:"ibox-content pos-display"},[s("div",{staticClass:"row pos-items"},[s("table",{staticClass:"table small table-condensed table-striped"},[t._m(1),s("tbody",t._l(t.items,function(e,n){return s("tr",{key:n,class:t.selected===n?"success":"",on:{click:function(e){return t.select(n)}}},[s("td",{staticClass:"text-left"},[s("strong",[t._v(t._s(e.productName))]),s("br"),s("small",[t._v(t._s(e.productShortDescription))])]),s("td",{staticClass:"text-left"},[t.selected===n?s("input",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"form-control input-sm",attrs:{type:"number",min:"1"},domProps:{value:e.qty},on:{input:function(s){s.target.composing||t.$set(e,"qty",s.target.value)}}}):s("span",[t._v(t._s(e.qty))])]),s("td",{staticClass:"text-left"},[t.selected===n?s("input",{directives:[{name:"model",rawName:"v-model",value:e.measurement,expression:"item.measurement"}],staticClass:"form-control input-sm",attrs:{disabled:"FULL"===e.sellAs,type:"number",min:"1"},domProps:{value:e.measurement},on:{input:function(s){s.target.composing||t.$set(e,"measurement",s.target.value)}}}):s("span",[t._v(t._s(e.measurement)+t._s(t.getUom(e.measurementUnit)[0].measurementAbbreviation))])]),s("td",{staticClass:"text-right"},[t.selected===n?s("input",{directives:[{name:"model",rawName:"v-model",value:e.salePrice*e.qty,expression:"item.salePrice * item.qty"}],staticClass:"form-control input-sm",attrs:{type:"number",min:"1"},domProps:{value:e.salePrice*e.qty},on:{input:function(s){s.target.composing||t.$set(e.salePrice*e,"qty",s.target.value)}}}):s("span",[t._v(t._s(e.salePrice))])])])}),0)])]),s("div",{staticClass:"row m-r-xs"},[s("div",{staticClass:"col-xs-12"},[s("h2",{staticClass:"text-right"},[s("strong",[t._v("Total : Ksh "+t._s(t.getTotalSales))])])])])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"ibox",staticStyle:{"margin-bottom":"0"}},[s("div",{staticClass:"ibox-content pos-calc"},[t._m(2),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-4"},[s("router-link",{staticClass:"btn btn-lg btn-block btn-info pay-btn",class:0===t.totalSale?"disabled":"",attrs:{to:"/pos/payment"}},[t._v("Payment")]),s("router-link",{staticClass:"btn btn-lg btn-block btn-white btn-block",class:0===t.totalSale?"disabled":"",attrs:{to:"/pos/invoice"}},[t._v("Invoice")]),s("router-link",{staticClass:"btn btn-lg btn-block btn-white btn-block",class:0===t.totalSale?"disabled":"",attrs:{to:"/pos/quote"}},[t._v("Quote")])],1),s("div",{staticClass:"col-xs-8"},[s("div",{staticClass:"row no-pad"},[s("div",{staticClass:"col-xs-3"},[s("button",{staticClass:"btn btn-lg btn-white btn-block",on:{click:function(e){return t.calculate(1)}}},[t._v("1")]),s("button",{staticClass:"btn btn-lg btn-white btn-block",on:{click:function(e){return t.calculate(4)}}},[t._v("4")]),s("button",{staticClass:"btn btn-lg btn-white btn-block",on:{click:function(e){return t.calculate(7)}}},[t._v("7")]),s("button",{staticClass:"btn btn-lg btn-white btn-block",on:{click:function(e){return t.calculate("+/-")}}},[t._v("+/-")])]),t._m(3),t._m(4),s("div",{staticClass:"col-xs-3"},[s("button",{staticClass:"btn btn-lg btn-block",class:"QTY"===t.operation?"btn-success":"btn-white",on:{click:function(e){return t.setOperation("QTY")}}},[t._v("Qty")]),s("button",{staticClass:"btn btn-lg btn-block",class:"UNIT"===t.operation?"btn-success":"btn-white",on:{click:function(e){return t.setOperation("UNIT")}}},[t._v("Unit")]),s("button",{staticClass:"btn btn-lg btn-block",class:"PRICE"===t.operation?"btn-success":"btn-white",on:{click:function(e){return t.setOperation("PRICE")}}},[t._v("Price")]),s("button",{staticClass:"btn btn-lg btn-danger btn-block",on:{click:function(e){return t.removeItem()}}},[s("i",{staticClass:"fa fa-backspace"})])])])])])])])])]),s("div",{staticClass:"col-sm-7 col-xs-12"},[s("div",{staticClass:"col-xs-12"},[s("div",{staticClass:"row"},[s("form",[s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.term,expression:"term"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search Item"},domProps:{value:t.term},on:{input:function(e){e.target.composing||(t.term=e.target.value)}}}),t._m(5)])])]),t._m(6),s("div",{staticClass:"hr-line-dashed",staticStyle:{margin:"5px"}}),s("div",{staticClass:"ibox-content search-items",class:t.loading?"sk-loading":"",staticStyle:{"background-color":"#FAFBFB",border:"none",padding:"0"}},[t.loading?s("Spinner"):t._e(),t._l(t.filteredProducts,function(e,n){return s("div",{key:n,staticClass:"file-box"},[s("div",{staticClass:"file"},[s("a",{on:{click:function(s){return t.addItem(e)}}},[s("span",{staticClass:"corner",class:e.state?"available":"unavailable"}),t._m(7,!0),s("div",{staticClass:"file-name"},[s("h5",{staticStyle:{"line-height":"1","margin-bottom":"-5px"}},[t._v(t._s(e.productName))]),s("br"),s("small",[t._v("QTY "+t._s(e.qty||1))]),s("span",{staticClass:"badge badge-info pull-right"},[t._v("Ksh "+t._s(0===e.salePrice?e.price:e.salePrice))]),s("div",{staticClass:"clearfix"})])])])])})],2)])])])]),t._m(8)])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"nav nav-tabs"},[s("li",{staticClass:"active"},[s("a",{attrs:{"data-toggle":"tab",href:"#tab-1","aria-expanded":"true"}},[t._v("Sale 1")])]),s("li",{},[s("a",{attrs:{"data-toggle":"tab",href:"#tab-2","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-plus"})])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v("Item")]),s("th",{staticClass:"text-left"},[t._v("Qty")]),s("th",{staticClass:"text-left"},[t._v("Measure")]),s("th",{staticClass:"text-right"},[t._v("Price")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row "},[s("div",{staticClass:"col-xs-12 p-sm"},[s("button",{staticClass:"btn btn-success btn-lg pull-right visible-xs"},[t._v("Add")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-xs-3"},[s("button",{staticClass:"btn btn-lg btn-white btn-block"},[t._v("2")]),s("button",{staticClass:"btn btn-lg btn-white btn-block"},[t._v("5")]),s("button",{staticClass:"btn btn-lg btn-white btn-block"},[t._v("8")]),s("button",{staticClass:"btn btn-lg btn-white btn-block"},[t._v("0")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-xs-3"},[s("button",{staticClass:"btn btn-lg btn-white btn-block"},[t._v("3")]),s("button",{staticClass:"btn btn-lg btn-white btn-block"},[t._v("6")]),s("button",{staticClass:"btn btn-lg btn-white btn-block"},[t._v("9")]),s("button",{staticClass:"btn btn-lg btn-white btn-block"},[t._v(".")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-btn"},[s("button",{staticClass:"btn  btn-primary",attrs:{type:"submit"}},[t._v("\n                                                    Search\n                                                ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row text-center p-xs"},[s("div",{staticClass:"btn-group-xs"},[s("button",{staticClass:"btn btn-white m-xs"},[t._v("1/4 m")]),s("button",{staticClass:"btn btn-white m-xs"},[t._v("1/2 m")]),s("button",{staticClass:"btn btn-white m-xs"},[t._v("1 m")]),s("button",{staticClass:"btn btn-white m-xs"},[t._v("2 m")]),s("button",{staticClass:"btn btn-white m-xs"},[t._v("full")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"image"},[s("img",{staticClass:"img-responsive",attrs:{alt:"image",src:"/img/p1.jpg"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab-pane",attrs:{id:"tab-2"}},[s("div",{staticClass:"panel-body"},[s("h1",[t._v("Sale 2")])])])}],i=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),r=s("2f62"),c=s("2375"),o=s("5935");function l(t){for(var e=1;e<arguments.length;e++)if(e%2){var s=null!=arguments[e]?arguments[e]:{},n=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),n.forEach(function(e){Object(i["a"])(t,e,s[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}var u={name:"Register",components:{Spinner:c["a"]},data:function(){return{selected:0,operation:"QTY",term:"",validator:window.validator}},beforeRouteEnter:function(t,e,s){s(function(t){t.$store.dispatch("inventory/getProducts"),t.$store.dispatch("inventory/getMeasurementUnits")})},computed:l({totalSale:function(){return this.items.reduce(function(t,e){return parseInt(t)+parseInt(e.salePrice)},0)},filteredProducts:function(){var t=this;return""===this.term?this.products:this.products.filter(function(e){return e.productName.toLowerCase().indexOf(t.term.toLowerCase())>=0||e.productShortDescription.toLowerCase().indexOf(t.term.toLowerCase())>=0||e.price===parseInt(t.term)>=0||e.salePrice===parseInt(t.term)>=0||e.measurement===parseInt(t.term)>=0||e.sellAs.toLowerCase().indexOf(t.term.toLowerCase())>=0||e.availableFrom.toLowerCase().indexOf(t.term.toLowerCase())>=0||e.availableTo.toLowerCase().indexOf(t.term.toLowerCase())>=0})}},Object(r["c"])({products:function(t){return t.inventory.products},units:function(t){return t.inventory.measurementUnit},items:function(t){return t.pos.items},loading:function(t){return t.inventory.loading},message:function(t){return t.inventory.message},status:function(t){return t.inventory.status}}),{},Object(o["c"])("pos",["items"]),{},Object(r["b"])({getUom:"inventory/getMeasurementUnit",getTotalSales:"pos/totalSales",getItem:"pos/getItem"})),methods:{addItem:function(t){if(0===this.items.filter(function(e){return e.id===t.id}).length){var e=JSON.parse(JSON.stringify(t));e.qty=1,e.salePrice=0===t.salePrice?t.price:t.salePrice,this.$store.commit("pos/SET_ITEMS",e)}},select:function(t){this.selected=t},setOperation:function(t){this.operation=t},removeItem:function(){if(0!==this.items.length){var t={input:1,operand:this.selected,operation:this.operation};this.$store.dispatch("pos/backSpace",t)}},calculate:function(t){if(0!==this.items.length){var e={input:t,operand:this.selected,operation:this.operation};this.$store.dispatch("pos/performOperation",e)}}},watch:{items:{handler:function(t,e){console.log(t)}}}},b=u,d=(s("c45b"),s("2877")),m=Object(d["a"])(b,n,a,!1,null,"2abd646f",null);e["default"]=m.exports},c45b:function(t,e,s){"use strict";var n=s("1193"),a=s.n(n);a.a}}]);
//# sourceMappingURL=chunk-287b9916.2168e8d3.js.map